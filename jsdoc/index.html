<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Batch Track</h1>
<h2>Project requirement</h2>
<ul>
<li>One good idea like (<a href="https://www.jetbrains.com/webstorm/download/#section=windows">webstorm</a>,<a href="https://code.visualstudio.com/download">vscode</a>)</li>
<li>Xampp for mysql database download from <a href="https://www.apachefriends.org/">here</a></li>
<li>Postman for api testing download from <a href="https://www.postman.com/downloads/">here</a> or use remotely from website</li>
</ul>
<h2>To edit project (This is bottom to top approach).</h2>
<h3>Model add</h3>
<ul>
<li>Goto Model directory and create a .js file as a Model<br></li>
</ul>
<p><strong>Like</strong></p>
<pre class="prettyprint source"><code>const sequelize = require(&quot;../DBConfig/Config&quot;);
const {DataTypes} = require(&quot;sequelize&quot;);

const ValidateModel = sequelize.define(&quot;ValidateModel&quot;, {
    id:{type: DataTypes.INTEGER, primaryKey: true, autoIncrement: true},
    registerCode: {type: DataTypes.STRING},
    loginCode: {type: DataTypes.STRING},
    registerEmail: {type: DataTypes.STRING},
    registerStatus: {type: DataTypes.BOOLEAN},
},{timestamps:true});

module.exports = ValidateModel;
</code></pre>
<ul>
<li>You have to export this to use from another directory</li>
<li>Then This model directory import from <code>Synchronization.js</code> file</li>
</ul>
<p><strong>Like</strong></p>
<pre class="prettyprint source"><code>const ValidateModel = require('../Model/ValidateModel');
</code></pre>
<ul>
<li>You just add the path nothing else.</li>
</ul>
<h2>Data View</h2>
<ul>
<li>To access Model data create a .js file to <code>View</code> directory.</li>
<li>To manipulate Data create different function like -</li>
</ul>
<pre class="prettyprint source"><code>const ValidateModel = require(&quot;../Model/ValidateModel&quot;);
const crypto = require('crypto');

const requestValidate = async (req, res) => {
    const email = req.headers['email'];
    console.log(email);

    try {
        const validateBatch = await ValidateModel.findOne({ where: { registerEmail: email } });

        if (!validateBatch) {
            const newValidate = await ValidateModel.create({
                registerEmail: email,
                registerCode: crypto.randomBytes(4).toString('hex'),
                loginCode: crypto.randomBytes(4).toString('hex'),    
                registerStatus: false,
            });

            const id = newValidate.id;
            const regiHash = crypto.createHash(&quot;md5&quot;).update(id.toString()).digest(&quot;hex&quot;);
            const loginHash = crypto.createHash(&quot;md5&quot;).update(regiHash).digest(&quot;hex&quot;);

            await ValidateModel.update({
                registerCode: regiHash,
                loginCode: loginHash,
            }, {
                where: { id: id }
            });

            return res.status(200).json({ message: &quot;Validate successful.&quot;, data: regiHash });
        } else {
            return res.status(409).json({ message: &quot;This email already exists&quot; });
        }

    } catch (err) {
        console.error(err);
        return res.status(500).json({ message: &quot;Something went wrong&quot; });
    }
};


module.exports = {requestValidate};

</code></pre>
<p><strong>Note :</strong> If you export like <code>module.exports = {requestValidate};</code> You have to import like <code> const {requestValidate} = require(&quot;../View/ValidateView&quot;);</code>
From Controller.</p>
<h2>Update Controller</h2>
<ul>
<li>Controller just control your route and pass the routes to appropriate functions. Like-</li>
</ul>
<pre class="prettyprint source"><code>const express = require('express');
const {requestValidate} = require(&quot;../View/ValidateView&quot;);
const validateController = express.Router();

validateController.post(&quot;/validate&quot;,requestValidate);

module.exports = validateController;
</code></pre>
<h2>Entry Point of The Project</h2>
<ul>
<li>Entry point is <code>index.js</code> file.</li>
<li>From here you create a root route and pass this your controller. Like-</li>
</ul>
<pre class="prettyprint source"><code>app.use(&quot;/api/batch-validate&quot;,validateController);
</code></pre>
<p><strong>Note :</strong> You just edit this Controller route and ensure the import statement top of the project. Like- <br></p>
<pre class="prettyprint source"><code>const validateController = require(&quot;./Controller/ValidateConroller&quot;);
</code></pre>
<p><strong>Note :</strong> When you run this project you ensure your <code>apache and mysql</code> is run from <code>Xampp</code>. And one Database is exist this same name as <code>batch_track</code></p>
<h3>If any query please ask me , I am ready to explain more.</h3>
<h3>Thanks For Reading.</h3></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addResourse">addResourse</a></li><li><a href="global.html#createBatch">createBatch</a></li><li><a href="global.html#getAllBatch">getAllBatch</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Fri Nov 15 2024 16:03:41 GMT+0600 (Bangladesh Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>